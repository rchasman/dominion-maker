:root {
  /* Color Tokens */
  --color-bg-primary: #1a1a2e;
  --color-bg-secondary: #0f0f1a;
  --color-bg-tertiary: #252538;
  --color-bg-surface: #2d2d44;
  --color-bg-surface-alt: #1f1f32;
  --color-bg-supply: #2a3a2a;
  --color-bg-supply-alt: #1e2e1e;

  --color-text-primary: #e8e4d9;
  --color-text-secondary: #a0a0b0;
  --color-text-tertiary: #f5f2ea;
  --color-text-muted: #666;

  --color-gold: #c9a227;
  --color-gold-bright: #ffd700;
  --color-gold-dark: #b8860b;
  --color-gold-darker: #d4a437;

  --color-treasure: #ffa500; /* Orange for treasure/state tab */

  --color-victory: #7cb342;
  --color-victory-dark: #3d6b29;
  --color-victory-darker: #5a8f3e;

  --color-curse: #ba68c8;
  --color-action: #64b5f6;
  --color-attack: #e57373;
  --color-reaction: #4db6ac;

  --color-border: #4a4a6a;
  --color-border-secondary: rgba(255, 255, 255, 0.15);
  --color-border-supply: #3d5c3d;
  --color-border-highlight: #64b5f6;

  --color-ai: #64b5f6;
  --color-human: #7cb342;
  --color-player-3: #e57373;
  --color-player-4: #ba68c8;
  --color-player-5: #4db6ac;
  --color-action-phase: #9d6bb3;
  --color-buy-phase: #2e7d32;

  /* Spacing Scale (rem-based) */
  --space-1: 0.25rem;  /* 4px */
  --space-2: 0.375rem; /* 6px */
  --space-3: 0.5rem;   /* 8px */
  --space-4: 0.625rem; /* 10px */
  --space-5: 0.75rem;  /* 12px */
  --space-6: 1rem;     /* 16px */
  --space-7: 1.25rem;  /* 20px */
  --space-8: 1.5rem;   /* 24px */
  --space-10: 2.5rem;  /* 40px */

  /* Card Sizes (rem-based for font size scaling) */
  --card-width-small: 3.75rem;
  --card-width-medium: 5rem;
  --card-width-large: 7.5rem;
  --card-height-small: 5.9375rem;
  --card-height-medium: 7.8125rem;
  --card-height-large: 11.71875rem;

  /* Border Radius */
  --radius-sm: 0.125rem;
  --radius-md: 0.25rem;
  --radius-lg: 0.5rem;

  /* Shadows */
  --shadow-sm: 0 2px 8px rgb(0 0 0 / 0.3);
  --shadow-md: 0 4px 12px rgb(124 179 66 / 0.4);
  --shadow-lg: 0 4px 20px rgb(124 179 66 / 0.3);
  --shadow-glow-gold: 0 2px 20px rgb(201 162 39 / 0.4);
  --shadow-game-over: 0 0 40px rgb(201 162 39 / 0.3);

  /* Transitions */
  --transition-fast: 0.1s;
  --transition-base: 0.25s;

  /* Typography */
  font-family: system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  margin: 0;
  min-inline-size: 20rem;
  block-size: 100dvh;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

@keyframes glow {
  0%, 100% {
    box-shadow: 0 0 0.125rem currentColor;
  }
  50% {
    box-shadow: 0 0 0.25rem currentColor;
  }
}

.kingdom-grid {
  display: grid;
  grid-template-columns: repeat(5, minmax(0, var(--card-width-large)));
  gap: 0.25rem;
  justify-content: center;
  container-type: inline-size;
}

/* Switch to 2 columns when too narrow */
@container (max-width: 40rem) {
  .kingdom-grid {
    grid-template-columns: repeat(2, minmax(0, var(--card-width-large)));
  }
}

/* Allow 3 columns as middle ground */
@container (max-width: 40rem) and (min-width: 30rem) {
  .kingdom-grid {
    grid-template-columns: repeat(3, minmax(0, var(--card-width-large)));
  }
}

.hand-container {
  container-type: inline-size;
}

.hand-grid {
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: minmax(0, var(--card-width-large));
  gap: 0.5rem;
  justify-content: center;
  overflow-x: auto;
}

.deck-discard-container {
  container-type: inline-size;
}

.deck-discard-wrapper {
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: minmax(0, var(--card-width-medium));
  gap: var(--space-3);
  justify-content: center;
  align-items: start;
}

/* Game log undo button - show on hover */
.log-entry-with-undo .undo-button {
  opacity: 0;
  transition: opacity 0.15s ease-in-out;
}

.log-entry-with-undo:hover .undo-button {
  opacity: 1;
}
