{"id":"dominion-maker-02k","title":"Fix nested ternaries in API files (analyze-strategy.ts, generate-action.ts)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T01:28:39.723659+11:00","updated_at":"2025-12-10T01:30:13.788196+11:00","closed_at":"2025-12-10T01:30:13.788196+11:00"}
{"id":"dominion-maker-0pq","title":"Add ESLint rule to prevent nested ternaries","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T01:26:45.552855+11:00","updated_at":"2025-12-10T01:35:53.396121+11:00","closed_at":"2025-12-10T01:35:53.396121+11:00"}
{"id":"dominion-maker-1ey","title":"Write integration tests for auto-transition","description":"Test auto-transition to buy phase when: no actions available, no action cards, during AI turns. Ensure 300ms delay is preserved for UX.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T11:42:58.993219+11:00","updated_at":"2025-12-09T12:55:28.764273+11:00","closed_at":"2025-12-09T12:55:28.764273+11:00","dependencies":[{"issue_id":"dominion-maker-1ey","depends_on_id":"dominion-maker-sb8","type":"blocks","created_at":"2025-12-09T11:43:25.173386+11:00","created_by":"daemon"}]}
{"id":"dominion-maker-2iv","title":"Create useSyncToLocalStorage custom hook","description":"Build reusable hook for localStorage persistence with proper hydration handling. Replaces ref-based workarounds. File: src/hooks/useSyncToLocalStorage.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T11:42:45.650271+11:00","updated_at":"2025-12-09T11:44:43.780566+11:00","closed_at":"2025-12-09T11:44:43.780566+11:00"}
{"id":"dominion-maker-31j","title":"Fix nested ternaries in agent files (game-agent.ts, strategic-context.ts)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T01:28:39.879519+11:00","updated_at":"2025-12-10T01:29:28.977424+11:00","closed_at":"2025-12-10T01:29:28.977424+11:00"}
{"id":"dominion-maker-51w","title":"Move mode change side effects to event handler","description":"Move abortOngoingConsensus and setIsProcessing(false) from useEffect to setGameMode callback. Makes execution synchronous and predictable. File: src/context/GameContext.tsx lines 242-245","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T11:42:49.866353+11:00","updated_at":"2025-12-09T11:45:16.289632+11:00","closed_at":"2025-12-09T11:45:16.289632+11:00"}
{"id":"dominion-maker-6n6","title":"Replace GameContext localStorage effects with custom hook","description":"Consolidate 4 separate effects (events, mode, logs, settings) into useSyncToLocalStorage calls. Remove modeRestoredFromStorage and settingsRestoredFromStorage refs. File: src/context/GameContext.tsx lines 154-203","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T11:42:47.022788+11:00","updated_at":"2025-12-09T11:46:02.991816+11:00","closed_at":"2025-12-09T11:46:02.991816+11:00","dependencies":[{"issue_id":"dominion-maker-6n6","depends_on_id":"dominion-maker-2iv","type":"blocks","created_at":"2025-12-09T11:43:17.404071+11:00","created_by":"daemon"}]}
{"id":"dominion-maker-7fw","title":"Replace EventDevtools initial scroll effect with ref callback","description":"EventDevtools.tsx:111 - Initial scroll useEffect could be replaced with ref callback pattern for better efficiency and cleaner code.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T13:13:53.501412+11:00","updated_at":"2025-12-09T13:44:24.92559+11:00","closed_at":"2025-12-09T13:44:24.92559+11:00"}
{"id":"dominion-maker-9u7","title":"Refactor strategy analysis fetch to callback-based","description":"GameContext.tsx:218 - Move strategy analysis fetch from useEffect to callback triggered on turn completion. Currently watches gameState changes; should be event-driven instead.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T13:13:52.814702+11:00","updated_at":"2025-12-09T13:40:20.799463+11:00","closed_at":"2025-12-09T13:40:20.799463+11:00"}
{"id":"dominion-maker-a6o","title":"Fix nested ternaries in core components (Card, PileTooltip, PlayerArea)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T01:28:40.02378+11:00","updated_at":"2025-12-10T01:32:25.873596+11:00","closed_at":"2025-12-10T01:32:25.873596+11:00"}
{"id":"dominion-maker-axv","title":"Add strict ESLint/Oxlint rules and refactor large files","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-10T10:33:49.362045+11:00","updated_at":"2025-12-10T11:04:23.61174+11:00","closed_at":"2025-12-10T11:04:23.61174+11:00"}
{"id":"dominion-maker-bk7","title":"Fix nested ternaries in remaining files (EventDevtools, cellar, Supply)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T01:28:40.741574+11:00","updated_at":"2025-12-10T01:30:59.490424+11:00","closed_at":"2025-12-10T01:30:59.490424+11:00"}
{"id":"dominion-maker-cs3","title":"Write unit tests for useSyncToLocalStorage hook","description":"Test hydration skip, value persistence, error handling, and shouldSync conditional. Ensure localStorage isn't called on first render.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T11:42:51.939325+11:00","updated_at":"2025-12-09T11:50:00.235148+11:00","closed_at":"2025-12-09T11:50:00.235148+11:00","dependencies":[{"issue_id":"dominion-maker-cs3","depends_on_id":"dominion-maker-2iv","type":"blocks","created_at":"2025-12-09T11:43:17.511875+11:00","created_by":"daemon"}]}
{"id":"dominion-maker-e9n","title":"Fix nested ternaries in LLMLog components (PerformancePane, index, hooks)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T01:28:40.476174+11:00","updated_at":"2025-12-10T01:32:43.867963+11:00","closed_at":"2025-12-10T01:32:43.867963+11:00"}
{"id":"dominion-maker-ec3","title":"Write unit tests for navigation reducer","description":"Test all state transitions: PREV_TURN, NEXT_TURN, PREV_ACTION, NEXT_ACTION, JUMP_TO_LATEST, RESET_FLAG. Verify userNavigatedAway flag behavior.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T11:42:56.096558+11:00","updated_at":"2025-12-09T11:54:08.093266+11:00","closed_at":"2025-12-09T11:54:08.093266+11:00","dependencies":[{"issue_id":"dominion-maker-ec3","depends_on_id":"dominion-maker-sdu","type":"blocks","created_at":"2025-12-09T11:43:22.827643+11:00","created_by":"daemon"}]}
{"id":"dominion-maker-f29","title":"Fix performance pane disappearing when no timing data exists","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-09T22:22:16.363849+11:00","updated_at":"2025-12-09T22:22:59.234297+11:00","closed_at":"2025-12-09T22:22:59.234297+11:00"}
{"id":"dominion-maker-fhy","title":"Fix Militia discard bug - only discarding 1 card instead of down to 3","description":"Fixed AI discard logic to properly select multiple cards of same type.\n\nBug: AI was only discarding 1 card when Militia required discarding down to 3.\nRoot cause: In engine-strategy.ts line 138, used .find() which only finds ONE card per priority type instead of ALL cards.\n\nFix: Changed to .filter() to find ALL matching cards, then iterate through them.\n\nBefore: const card = options.find(c =\u003e c === priority);\nAfter: const matchingCards = options.filter(c =\u003e c === priority);\n       for (const card of matchingCards) { ... }\n\nTests: Added comprehensive unit tests in src/strategies/engine-strategy.test.ts","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-10T00:59:26.112437+11:00","updated_at":"2025-12-10T12:54:47.079971+11:00","closed_at":"2025-12-10T12:54:47.079971+11:00"}
{"id":"dominion-maker-k9a","title":"Remove all nested ternaries from codebase","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-10T01:26:45.412631+11:00","updated_at":"2025-12-10T01:35:53.395491+11:00","closed_at":"2025-12-10T01:35:53.395491+11:00","dependencies":[{"issue_id":"dominion-maker-k9a","depends_on_id":"dominion-maker-02k","type":"blocks","created_at":"2025-12-10T01:28:49.103626+11:00","created_by":"daemon"},{"issue_id":"dominion-maker-k9a","depends_on_id":"dominion-maker-31j","type":"blocks","created_at":"2025-12-10T01:28:49.1325+11:00","created_by":"daemon"},{"issue_id":"dominion-maker-k9a","depends_on_id":"dominion-maker-a6o","type":"blocks","created_at":"2025-12-10T01:28:49.160374+11:00","created_by":"daemon"},{"issue_id":"dominion-maker-k9a","depends_on_id":"dominion-maker-v3c","type":"blocks","created_at":"2025-12-10T01:28:49.182173+11:00","created_by":"daemon"},{"issue_id":"dominion-maker-k9a","depends_on_id":"dominion-maker-e9n","type":"blocks","created_at":"2025-12-10T01:28:49.209435+11:00","created_by":"daemon"},{"issue_id":"dominion-maker-k9a","depends_on_id":"dominion-maker-bk7","type":"blocks","created_at":"2025-12-10T01:28:49.23507+11:00","created_by":"daemon"}]}
{"id":"dominion-maker-m3l","title":"Enhance strategy analysis prompts with full game state context","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T18:40:15.4608+11:00","updated_at":"2025-12-09T18:54:36.371306+11:00","closed_at":"2025-12-09T18:54:36.371306+11:00"}
{"id":"dominion-maker-o4r","title":"Remove debug logging effect from MultiplayerContext","description":"MultiplayerContext.tsx:143 - Debug logging useEffect can be removed or moved to event handler callback. Pure side effect that doesn't affect rendering.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T13:13:53.265084+11:00","updated_at":"2025-12-09T13:41:16.063528+11:00","closed_at":"2025-12-09T13:41:16.063528+11:00"}
{"id":"dominion-maker-sb8","title":"Move auto-transition logic to game engine","description":"Add shouldAutoAdvancePhase() method to DominionEngine. Remove useEffect from GameContext lines 612-639. Centralizes 'no playable actions' rule in engine instead of UI.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T11:42:57.471832+11:00","updated_at":"2025-12-09T12:54:30.069241+11:00","closed_at":"2025-12-09T12:54:30.069241+11:00","dependencies":[{"issue_id":"dominion-maker-sb8","depends_on_id":"dominion-maker-sdu","type":"blocks","created_at":"2025-12-09T11:43:24.133208+11:00","created_by":"daemon"},{"issue_id":"dominion-maker-sb8","depends_on_id":"dominion-maker-u33","type":"blocks","created_at":"2025-12-09T11:43:24.189668+11:00","created_by":"daemon"}]}
{"id":"dominion-maker-sdu","title":"Refactor useNavigationState to reducer pattern","description":"Replace 3 useEffects with single reducer-based state machine. Eliminate queueMicrotask workarounds. Makes state transitions explicit and testable. File: src/components/LLMLog/hooks/useNavigationState.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T11:42:53.124357+11:00","updated_at":"2025-12-09T11:51:40.470757+11:00","closed_at":"2025-12-09T11:51:40.470757+11:00","dependencies":[{"issue_id":"dominion-maker-sdu","depends_on_id":"dominion-maker-6n6","type":"blocks","created_at":"2025-12-09T11:43:18.998362+11:00","created_by":"daemon"},{"issue_id":"dominion-maker-sdu","depends_on_id":"dominion-maker-x06","type":"blocks","created_at":"2025-12-09T11:43:19.05492+11:00","created_by":"daemon"},{"issue_id":"dominion-maker-sdu","depends_on_id":"dominion-maker-51w","type":"blocks","created_at":"2025-12-09T11:43:19.107684+11:00","created_by":"daemon"}]}
{"id":"dominion-maker-u33","title":"Remove UI state clearing effects in Board components","description":"Move preview/selection clearing to event handlers (onNewGame callback) instead of detecting changes in useEffect. Files: Board/index.tsx lines 49-53, MultiplayerGameBoard.tsx lines 60-81","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T11:42:54.568032+11:00","updated_at":"2025-12-09T11:52:59.247335+11:00","closed_at":"2025-12-09T11:52:59.247335+11:00","dependencies":[{"issue_id":"dominion-maker-u33","depends_on_id":"dominion-maker-6n6","type":"blocks","created_at":"2025-12-09T11:43:20.770613+11:00","created_by":"daemon"},{"issue_id":"dominion-maker-u33","depends_on_id":"dominion-maker-51w","type":"blocks","created_at":"2025-12-09T11:43:20.825935+11:00","created_by":"daemon"}]}
{"id":"dominion-maker-u52","title":"useEffect refactoring: eliminate 15 effects following React best practices","description":"Comprehensive refactoring to remove unnecessary useEffects following React team's 'you might not need useEffect' guidance. Goals: 44% reduction (34â†’19 effects), better patterns, cleaner separation of concerns.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-09T11:42:43.771527+11:00","updated_at":"2025-12-09T12:55:30.266907+11:00","closed_at":"2025-12-09T12:55:30.266907+11:00"}
{"id":"dominion-maker-ue7","title":"Fix CardDecisionModal parent sync pattern","description":"CardDecisionModal.tsx:96 - useEffect syncs state to parent with prevDataRef workaround. Either lift state to parent OR ensure onDataChange is wrapped in useCallback.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T13:13:53.027225+11:00","updated_at":"2025-12-09T13:44:54.220279+11:00","closed_at":"2025-12-09T13:44:54.220279+11:00"}
{"id":"dominion-maker-v3c","title":"Fix nested ternaries in Board components (ActionBar, index)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T01:28:40.234101+11:00","updated_at":"2025-12-10T01:32:07.116802+11:00","closed_at":"2025-12-10T01:32:07.116802+11:00"}
{"id":"dominion-maker-wmn","title":"Upgrade strategy analysis to output markdown format","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T18:40:15.241778+11:00","updated_at":"2025-12-09T18:54:36.370498+11:00","closed_at":"2025-12-09T18:54:36.370498+11:00"}
{"id":"dominion-maker-x06","title":"Replace GameSidebar localStorage effect with custom hook","description":"Update gameLogHeight persistence to use useSyncToLocalStorage. File: src/components/Board/GameSidebar.tsx lines 144-146","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T11:42:48.55373+11:00","updated_at":"2025-12-09T11:46:12.591905+11:00","closed_at":"2025-12-09T11:46:12.591905+11:00","dependencies":[{"issue_id":"dominion-maker-x06","depends_on_id":"dominion-maker-2iv","type":"blocks","created_at":"2025-12-09T11:43:17.461287+11:00","created_by":"daemon"}]}
{"id":"dominion-maker-xc3","title":"Reset consensus viewer to latest turn when AI begins turn","description":"","status":"in_progress","priority":2,"issue_type":"bug","created_at":"2025-12-10T17:33:17.960286+11:00","updated_at":"2025-12-10T17:33:23.115149+11:00"}
